/*! For license information please see cookie-library.bundle.js.LICENSE.txt */
!function(){"use strict";var e,t={ads:[{pattern:"ckad_.+",description:'Generic ckad_ prefix for self-classified "ads" cookies.',usage:"Usage will be unclear since it's self-classified by development teams."},{pattern:"rsi_segs",description:"?",usage:"Usage found in GNL's bbcdotcom module."},{pattern:"c",description:"?",usage:"?"}],necessary:[{pattern:"optimizelyEndUserId",description:"Set by Optimizely web experiments",usage:"Anywhere the Optimizely web experiments SDK is used."},{pattern:"ckns_.+",description:'Generic ckns_ prefix for self-classified "necessary" cookies.',usage:"Usage will be unclear since it's self-classified by development teams."},{pattern:"idrxvr",description:"Part of the Piano (ATI) unique visitor tracking.",usage:"Cookie is read in Echo's ATI delegate"},{pattern:"atidvisitor",description:"Part of the Piano (ATI) unique visitor tracking.",usage:"Set by Piano SDK as used in Reverb and Echo"},{pattern:"atuserid",description:"Part of the Piano (ATI) unique visitor tracking.",usage:"Set by Piano SDK as used in Reverb and Echo"},{pattern:"(_cb_.+|_chartbeat\\d)",description:"Used by Chartbeat 3rd party for tracking views, scrolling, engagement etc. in real time.",usage:"Historically mainly used on News and Sport, some Children's. See https://confluence.dev.bbc.co.uk/display/chartbeat/Chartbeat+run+book"},{pattern:"SSO2-UID",description:"?",usage:"?"},{pattern:"bbcComSurvey",description:"?",usage:"?"},{pattern:"IDENTITY_ENV",description:"?",usage:"?"},{pattern:"IDENTITY",description:"?",usage:"?"},{pattern:"IDENTITY-HTTPS",description:"?",usage:"?"},{pattern:"IDENTITY_SESSION",description:"?",usage:"?"},{pattern:"BBCCOMMENTSMODULESESSID",description:"?",usage:"?"},{pattern:"bbcBump.+",description:"?",usage:"?"},{pattern:"ecos\\.dt",description:"?",usage:"?"},{pattern:"_sm_au_[c|d]",description:"?",usage:"?"},{pattern:"AMAuthCookie",description:"Temporary cookie used as part of sign-in flow",usage:"Used in bbc/id-account Github repo."},{pattern:"AM_REDIRECT_BACK_SERVER_URL",description:"Temporary cookie used as part of sign-in flow",usage:"Used in bbc/id-account Github repo."},{pattern:"AWSELB",description:"Creates sticky sessions in AWS: https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/elb-sticky-sessions.html",usage:"Seems to be used in Account as part of sign-in. Could be used elsewhere in theory."},{pattern:"(devN|uatN|n)ightfall(Session|Refresh)Token",description:"?",usage:"?"},{pattern:"amlbcookie",description:"See https://backstage.forgerock.com/knowledge/kb/article/a19829000#amlbcookie",usage:"Used by Account sign-in flow since it uses OpenAM. Many products also seem to have references to it in their sign-in flows."},{pattern:"i00",description:"?",usage:"?"},{pattern:"FCCDCF",description:"CMP provider - GDPR compliance in EEA",usage:"?"},{pattern:"_sp_enable_dfp_personalized_ads",description:"Sourcepoint (CMP provider): ensure GDPR compliance in EEA and CCPA in California",usage:"?"},{pattern:"consentUUID",description:"Sourcepoint (CMP provider): ensure GDPR compliance in EEA and CCPA in California",usage:"?"},{pattern:"euconsent-v2",description:"Sourcepoint (CMP provider): ensure GDPR compliance in EEA and CCPA in California",usage:"?"},{pattern:"ccpaUUID",description:"Sourcepoint (CMP provider): ensure GDPR compliance in EEA and CCPA in California",usage:"?"},{pattern:"dnsDisplayed",description:"Sourcepoint (CMP provider): ensure GDPR compliance in EEA and CCPA in California",usage:"?"},{pattern:"ccpaApplies",description:"Sourcepoint (CMP provider): ensure GDPR compliance in EEA and CCPA in California",usage:"?"},{pattern:"signedLspa",description:"Sourcepoint (CMP provider): ensure GDPR compliance in EEA and CCPA in California",usage:"?"},{pattern:"_sp_su",description:"Sourcepoint (CMP provider): ensure GDPR compliance in EEA and CCPA in California",usage:"?"},{pattern:"consentDate",description:"Sourcepoint (CMP provider): ensure GDPR compliance in EEA and CCPA in California",usage:"?"},{pattern:"blq\\\\.dPref",description:"?",usage:"?"},{pattern:"s1",description:"?",usage:"?"},{pattern:"sa_labels",description:"?",usage:"?"},{pattern:"_cb",description:"?",usage:"?"},{pattern:"BBC-H2-User",description:"?",usage:"?"},{pattern:"rmRpDetectReal",description:"?",usage:"?"},{pattern:"bbcBump.+",description:"?",usage:"?"},{pattern:"IVOTE_VOTE_HISTORY",description:"?",usage:"?"},{pattern:"pulse",description:"?",usage:"?"},{pattern:"BBCPG",description:"?",usage:"?"},{pattern:"BBCPGstat",description:"?",usage:"?"},{pattern:"(_pctx|_pcid)",description:"Piano, person tracking cookies",usage:"?"}],performance:[{pattern:"ckpf_.+",description:'Generic ckpf_ prefix for self-classified "performance" cookies.',usage:"Usage will be unclear since it's self-classified by development teams."},{pattern:"optimizely.*",description:"?",usage:"?"},{pattern:"id",description:"?",usage:"?"},{pattern:"_em_.+",description:"?",usage:"?"},{pattern:"(cookies_enabled|mbox|mbox-admin|mc_.+|omniture_unique|s_.+|sc_.+|tr_pr1)",description:"Omniture Site Catalyst analytics for international visitors",usage:"?"},{pattern:"adpolicyAdDisplayFrequency",description:"Throttles how often users see pre-roll ads in EMP player on GNL sites",usage:"Used in an adPolicyplaylistSelector.js file in a few GNL repos including Storyworks"},{pattern:"gvsurvey",description:"?",usage:"?"},{pattern:"bbcsurvey",description:"?",usage:"?"},{pattern:"si_v",description:"?",usage:"?"},{pattern:"obuid",description:"?",usage:"?"},{pattern:"mm_.+",description:"?",usage:"?"},{pattern:"mmid",description:"?",usage:"?"},{pattern:"mmcore.+",description:"?",usage:"?"},{pattern:"mmpa.+",description:"?",usage:"?"},{pattern:"(dtCookie|dtPC|rxVisitor|rxvt|dtSa|dtLatC)",description:"Cookies used by Dynatrace: https://www.dynatrace.com/support/help/how-to-use-dynatrace/data-privacy-and-security/data-privacy/cookies",usage:"?"},{pattern:"__gads",description:".com ads enabled only",usage:"?"},{pattern:"(__pc_.*|__tpcc_.*|xbc|__tbc|__pls|__tac|__tae|_pprv)",description:"Piano, .com ads enabled only, registration messaging",usage:"?"},{pattern:"BBCLiveStatsClick",description:"?",usage:"?"},{pattern:"id",description:"?",usage:"?"},{pattern:"_em_.+",description:"?",usage:"?"},{pattern:"ns_session",description:"?",usage:"?"},{pattern:"ns_cookietest",description:"?",usage:"?"},{pattern:"ns_ux",description:"?",usage:"?"},{pattern:"NO-SA",description:"?",usage:"?"},{pattern:"RT",description:"?",usage:"?"},{pattern:"_scor_uid",description:"?",usage:"?"}],personalisation:[{pattern:"cX_P",description:"Piano CXense user identifier",usage:"?"},{pattern:"ckps_.+",description:'Generic ckps_ prefix for self-classified "personalsiation" (aka functional) cookies.',usage:"Usage will be unclear since it's self-classified by development teams."},{pattern:"locserv",description:"?",usage:"?"},{pattern:"blaize_.+",description:"Zephr personalised sign/registration message based on customer page view, .com only, ads enabled product only",usage:"?"},{pattern:"__adblocker",description:".com only, ads enabled product only, allow to track users that have adblocker, not in constant use",usage:"?"},{pattern:"xbc",description:".com only, ads enabled product only",usage:"?"},{pattern:"__tbc",description:".com only, ads enabled product only",usage:"?"},{pattern:"X-AB-iplayer-.+",description:"?",usage:"?"},{pattern:"ACTVTYMKR",description:"?",usage:"?"},{pattern:"BBC_EXAMPLE_COOKIE",description:"?",usage:"?"},{pattern:"BBCIplayer",description:"?",usage:"?"},{pattern:"BBCiPlayerM",description:"?",usage:"?"},{pattern:"BBCIplayerSession",description:"?",usage:"?"},{pattern:"BBCMediaselector",description:"?",usage:"?"},{pattern:"BBCPostcoder",description:"?",usage:"?"},{pattern:"bbctravel",description:"?",usage:"?"},{pattern:"CGISESSID",description:"?",usage:"?"},{pattern:"ed",description:"?",usage:"?"},{pattern:"food-view",description:"?",usage:"?"},{pattern:"forceDesktop",description:"?",usage:"?"},{pattern:"h4",description:"?",usage:"?"},{pattern:"IMRID",description:"?",usage:"?"},{pattern:"MyLang",description:"?",usage:"?"},{pattern:"myloc",description:"?",usage:"?"},{pattern:"NTABS",description:"?",usage:"?"},{pattern:"ttduserPrefs",description:"?",usage:"?"},{pattern:"V5",description:"?",usage:"?"},{pattern:"BBCScienceDiscoveryPlaylist_.+",description:"?",usage:"?"},{pattern:"bitratePref",description:"?",usage:"?"},{pattern:"correctAnswerCount",description:"?",usage:"?"},{pattern:"genreCookie",description:"?",usage:"?"},{pattern:"highestQuestionScore",description:"?",usage:"?"},{pattern:"incorrectAnswerCount",description:"?",usage:"?"},{pattern:"longestStreak",description:"?",usage:"?"},{pattern:"MSCSProfile",description:"?",usage:"?"},{pattern:"programmes-oap-expanded",description:"?",usage:"?"},{pattern:"quickestAnswer",description:"?",usage:"?"},{pattern:"score",description:"?",usage:"?"},{pattern:"servicePanel",description:"?",usage:"?"},{pattern:"slowestAnswer",description:"?",usage:"?"},{pattern:"totalTimeForAllFormatted",description:"?",usage:"?"},{pattern:"v",description:"?",usage:"?"},{pattern:"BBCwords",description:"?",usage:"?"},{pattern:"score",description:"?",usage:"?"},{pattern:"correctAnswerCount",description:"?",usage:"?"},{pattern:"highestQuestionScore",description:"?",usage:"?"},{pattern:"hploc",description:"?",usage:"?"},{pattern:"BGUID",description:"?",usage:"?"},{pattern:"BBCWEACITY",description:"?",usage:"?"},{pattern:"mstouch",description:"?",usage:"?"},{pattern:"myway",description:"?",usage:"?"},{pattern:"BBCNewsCustomisation",description:"?",usage:"?"},{pattern:"cbbc_anim",description:"?",usage:"?"},{pattern:"cbeebies_snd",description:"?",usage:"?"},{pattern:"bbcsr_usersx",description:"?",usage:"?"},{pattern:"cbeebies_rd",description:"?",usage:"?"},{pattern:"BBC-Latest_Blogs",description:"?",usage:"?"},{pattern:"zh-enc",description:"?",usage:"?"},{pattern:"pref_loc",description:"?",usage:"?"},{pattern:"m",description:"?",usage:"?"},{pattern:"bbcEmp.+",description:"?",usage:"?"},{pattern:"recs-.+",description:"?",usage:"?"},{pattern:"_lvd2",description:"?",usage:"?"},{pattern:"_lvs2",description:"?",usage:"?"},{pattern:"tick",description:"?",usage:"?"},{pattern:"_fcap_CAM1",description:"?",usage:"?"},{pattern:"_rcc2",description:"?",usage:"?"}]},n={},i="https:"===document.location.protocol;n.IMPLICIT_FLAG="0",n.EXPLICIT_FLAG="1",n.EXPLICIT_FLAG_EU="2",n.POLICY_REFRESH_DATE_MILLIS=new Date(2015,4,21,0,0,0,0).getTime(),n.PRIVACY_COOKIE_NAME="ckns_privacy",n.EXPLICIT_COOKIE_NAME="ckns_explicit",n.POLICY_COOKIE_NAME="ckns_policy",n.CURRENT_PRIVACY_POLICY="july2019";for(var o={"www.int.bbc.co.uk":"https://www.test.bbc.co.uk/cookieoven","www.int.bbc.com":"https://www.int.bbc.com/cookieoven","www.test.bbc.co.uk":"https://www.test.bbc.co.uk/cookieoven","www.test.bbc.com":"https://www.test.bbc.com/cookieoven","navigation.int.api.bbc.co.uk":"https://www.test.bbc.co.uk/cookieoven","navigation.test.api.bbc.co.uk":"https://www.test.bbc.co.uk/cookieoven","navigation.int.api.bbc.com":"https://www.test.bbc.com/cookieoven","navigation.test.api.bbc.com":"https://www.test.bbc.com/cookieoven","cookies.test.api.bbc.co.uk":"https://www.test.bbc.co.uk/cookieoven"},a=["AT","AX","BE","BG","BL","CY","CZ","DE","DK","EE","ES","EU","FI","FR","GB","GF","GG","GI","GP","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MF","MT","MQ","NL","NO","PL","PM","PT","RE","RO","SE","SI","SK","YT"],r={ads:!1,personalisation:!1,performance:!1,necessary:!0},s={},c={},p=0,d=Object.keys(t);p<d.length;p++){var u=d[p],l=t[u].map((function(e){return e.pattern}));c[u]=l.join("|")}function g(e,t){t&&t(new Error(e))}n.isEU=function(e){return!!e&&-1!==a.indexOf(e.toUpperCase())},n.cookieOvenRequest=function(e,t,n){try{e.open("GET",t,!0),e.send()}catch(e){n&&n(e)}},n.cookieOvenClient=function(e,t,i,o){if("withCredentials"in new XMLHttpRequest){var a=[n.POLICY_COOKIE_NAME,n.EXPLICIT_COOKIE_NAME];try{if(!i)throw new Error("Cannot make request to cross domain cookie service when domain is not set.");if(a.indexOf(e)<=-1)throw new Error("Cookie name is not in the whitelist accepted by the cross domain cookie service.");var r={com:"co.uk","co.uk":"com"}[i.match(/(co.uk|com)/)[0]],s=function(e){var t=new XMLHttpRequest;return t.withCredentials=!0,t.onload=function(){e&&e(null,t.status)},t.onerror=function(n){g("Request to cross domain cookie service encountered an error with code"+t.status+". "+n,e)},t.onabort=function(){g("Request to cross domain cookie service was aborted.",e)},t.ontimeout=function(){g("Request to cross domain cookie service timed out.",e)},t}(o),c=function(e,t,n){return window.orbitData.partialCookieOvenUrl+"."+e+"/"+t+"/"+n}(r,e,t);n.cookieOvenRequest(s,c,o)}catch(e){o&&o(e)}}else o(new Error("Cannot make request to cross domain cookie service as this browser does not support XmlHttpRequest with credentials."))},n.set=function(e,t,i,o){var a,r;if(void 0!==t){r=E(a=k(e),t,i);var s=i&&i.crossDomainEnabled;n.isAllowed(a)&&s&&n.cookieOvenClient(e,t,i.domain,o)}else a=function(e){var t=(""+e).match(/^([^=]+)(?==)/);return t&&t.length?t[0]:""}(e),r=e;n.isAllowed(a)&&(document.cookie=r)},n.setPolicy=function(e){var t,i,a="?policy="+(e.ads?1:0)+(e.personalisation?1:0)+(e.performance?1:0),r=(t=window.location.host,o[t]||"https://www.".concat(n._getCurrentDomain(),"/cookieoven"));return fetch("".concat(r).concat(a),{credentials:"include"}),i="bbc.co.uk"===n._getCurrentDomain().match(/(bbc.co.uk|bbc.com)/)[0]?r.replace(".bbc.co.uk",".bbc.com"):r.replace(".bbc.com",".bbc.co.uk"),fetch("".concat(i).concat(a),{credentials:"include"})},n.isAllowed=function(e){return!(e&&e.match&&e.match(/^ckns_cookietest[0-9]*/))&&function(e){var t=JSON.stringify(e);if(void 0!==s[t])return s[t];var n="";for(var i in e)e.hasOwnProperty(i)&&c[i]&&!0===e[i]&&(n+=(n?"|":"")+c[i]);return s[t]=new RegExp("^("+(n||".*")+")$","i"),s[t]}(n.readPolicy()).test(e)},n.readPolicy=function(e){var t=_();return e?t[e]:t},n.analyticsPolicyString=function(){var e=_();return"ad"+ +e.ads+"ps"+ +e.personalisation+"pf"+ +e.performance},n.get=function(e){return e?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:document.cookie},n.isCookiePolicySet=function(){return null!==n.get(n.POLICY_COOKIE_NAME)},n.setImplicitPolicy=function(e){"gb"===e||"eu"===e?v({ads:!1,personalisation:!1,performance:!1,necessary:!0},!1):"row"===e&&v({ads:!0,personalisation:!0,performance:!0,necessary:!0},!1)};var m=null;function b(e,t){if(void 0===e)return null;var n={};n.expires=new Date(0),t&&(n.domain=t.domain,n.path=t.path),document.cookie=E(e,"removed",n)}function f(e){var t=window.location.hostname.split(".");for(t.length,b(e),C(e);t.length&&-1==="|co.uk|com|".indexOf("|"+t.join(".")+"|");){if(t.length){var n=t.join(".");b(e,{domain:n}),C(e,n)}t.shift()}}function C(e,t){var n=window.location.pathname.split("/");for(b(e,t);n.length;){var i=n.join("/");""===i&&(i="/"),b(e,{domain:t,path:i}),t&&b(e,{domain:"."+t,path:i}),n.pop()}}function _(){var e=new RegExp("(?:^|; ?)"+n.POLICY_COOKIE_NAME+"=(\\d)(\\d)(\\d)($|;)"),t=document.cookie.match(e);return t?{ads:!!+t[1],personalisation:!!+t[2],performance:!!+t[3],necessary:!0}:r}function w(){var e=new Date;return e.setYear(e.getFullYear()+1),e}function v(e,t,o){var a=w(),r=""+(e.ads?1:0)+(e.personalisation?1:0)+(e.performance?1:0),s=n._getCurrentDomain();n.set(n.POLICY_COOKIE_NAME,r,{domain:s,path:"/",expires:a,crossDomainEnabled:t,sameSite:"None",secure:i},o);var c=new Date(a.getTime());return c.setMonth(c.getMonth()+1),n.set("ckns_policy_exp",a.getTime(),{domain:s,path:"/",expires:c,sameSite:"None",secure:i}),e}function h(e,t,o){var a=w(),r=""+e,s=n._getCurrentDomain();return n.set(n.EXPLICIT_COOKIE_NAME,r,{domain:s,path:"/",expires:a,crossDomainEnabled:t,sameSite:"None",secure:i},o),e}function k(e){return(e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29")}function E(e,t,n){n&&n.domain&&n.domain;var o=e+"="+(t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent));return o+=(n=n||{}).path?";path="+n.path:"",o+=n.domain?";domain="+n.domain:"",o+=n.expires?";expires="+n.expires.toUTCString():"",(o+=n.sameSite?";sameSite="+n.sameSite:i?";sameSite=None":"")+(n.secure||i?";secure":"")}n._setPolicy=function(e,t){var i=n.readPolicy();i[e]=!!t,m=null===m?n.setPolicy(i):m.then((function(){return n.setPolicy(i)}))},n.isCookieExplicitSet=function(){return null!==n.get(n.EXPLICIT_COOKIE_NAME)},n.copyExplicitCookiesCrossDomain=function(e){h(n.get(n.EXPLICIT_COOKIE_NAME),!0,e)},n.setCookieExplicitCrossDomain=function(e){h(e,!0)},n.cookiesEnabled=function(){try{document.cookie="cookietest=1; ".concat(i?"sameSite=None; secure;":"");var e=-1!==document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; ".concat(i?"sameSite=None; secure;":""," expires=Thu, 01-Jan-1970 00:00:01 GMT;"),e}catch(e){return!1}},n.delete=function(e,t){b(e=k(e),t)},n.del=n.delete,n._crunch=function(){f("");for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var n=e[t].split("=")[0].trim();this.isAllowed(n)||f(n)}},n._getCurrentDomain=function(){try{return window.location.hostname.toLowerCase().match(/.*(bbc\.co\.uk|bbc\.com)\/*/)[1]}catch(e){return}},n._getPolicy=n.readPolicy,null!==(e=window)&&void 0!==e&&null!==(e=e.orbitData)&&void 0!==e&&e.newcookiecrunch||(function(e,t){var n=!1,i=!0,o=e.document,a=o.documentElement,r=o.addEventListener,s=r?"addEventListener":"attachEvent",c=r?"removeEventListener":"detachEvent",p=r?"":"on",d=function(i){"readystatechange"===i.type&&"complete"!=o.readyState||(("load"===i.type?e:o)[c](p+i.type,d,!1),!n&&(n=!0)&&t.call(e,i.type||i))},u=function(){try{a.doScroll("left")}catch(e){return void setTimeout(u,50)}d("poll")};if("complete"===o.readyState)t.call(e,"lazy");else{if(!r&&a.doScroll){try{i=!e.frameElement}catch(e){}i&&u()}o[s](p+"DOMContentLoaded",d,!1),o[s](p+"readystatechange",d,!1),e[s](p+"load",d,!1)}}(window,(function(){n._crunch()})),window.addEventListener?window.addEventListener("beforeunload",(function(){n._crunch()}),!1):window.attachEvent?window.attachEvent("onbeforeunload",(function(){n._crunch()})):window.onbeforeunload=function(){n._crunch()});var y=n;window.bbccookies=y}();